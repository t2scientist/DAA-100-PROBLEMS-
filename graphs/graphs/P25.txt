//2
//[[1,0],[0,1]]

//2
//[[1,0]]

#include<bits/stdc++.h>
using namespace std;

vector<vector<int>> makeDependenciesGraph(int numCourses,vector<vector<int>>& prerequisites){
    vector<vector<int>> dependenciesGraph(numCourses);
    
    for(int i=0;i<prerequisites.size();i++){
        dependenciesGraph[prerequisites[i][1]].push_back(prerequisites[i][0]);
    }
    return dependenciesGraph;
}


class Solution {
public:
    void dfs(int src,vector<vector<int>> &graph,vector<int> &visited,vector<int>& recursionStack,bool *cycleExists,vector<int>& order){
        
        if(*cycleExists) return;
        
        visited[src] = 1;
        recursionStack[src] = 1;
        for(auto n:graph[src]){
            if(!visited[n]){
                dfs(n,graph,visited,recursionStack,cycleExists,order);
            }
            else if(recursionStack[n]==1){
                *cycleExists = true;
            }
        }
        recursionStack[src] = 0;
        order.push_back(src);
    }
    
    vector<int> isCycleinDAG(vector<vector<int>> &graph,int v){
        vector<int> visited(v,0),recursionStack(v,0),order;
        bool cycleExists = false;
        for(int i=0;i<v;i++){
            if(!visited[i]){
                dfs(i,graph,visited,recursionStack,&cycleExists,order);
            }
            if(cycleExists){
                return {};
            }
        }
        reverse(order.begin(),order.end());
        return order;
    }
    
    vector<int> findOrder(int numCourses, vector<vector<int>>& prerequisites) {
        vector<vector<int>> dependenciesGraph = makeDependenciesGraph(numCourses,prerequisites);
        return isCycleinDAG(dependenciesGraph,numCourses);
    }
};

vector<vector<int>> parseToVector(string s) {
    vector<vector<int>> result;
    vector<int> temp;
    string num = "";

    for (char c : s) {
        if (isdigit(c) || c == '-') {
            num += c; 
        } else if (!num.empty()) {
            temp.push_back(stoi(num));
            num = "";
        }

        if (c == ']') {
            if (!temp.empty()) {
                result.push_back(temp);
                temp.clear();
            }
        }
    }

    return result;
}

void printVec(vector<int> &v){
    cout<<"[";
    for(int i=0;i<v.size();i++){
        cout<<v[i]<<" ";
    }
    cout<<"]";
}

int main(){
    int numCourses;
    cin>>numCourses;
    cin.ignore(numeric_limits<streamsize>::max(), '\n');
    string s;
    getline(cin,s);
    vector<vector<int>> prerequisites = parseToVector(s);
    Solution S;
    vector<int> order = S.findOrder(numCourses,prerequisites);
    printVec(order);
    return 0;
}