//{ {0, 2, -1, -1},{1, 0, 3, -1},{-1, -1, 0, -1},{3, 5, 4, 0} }
#include<bits/stdc++.h>
using namespace std;

const int C = 1e8;

class Solution {
  public:
    void floydWarshall(vector<vector<int>> &dist) {
        
        int v = dist.size();
        
        for(int i=0;i<v;i++){
            for(int j=0;j<v;j++){
                if(dist[i][j]==-1){
                    dist[i][j] = C;
                }
            }
        }
        
        for(int i=0;i<v;i++){
            for(int j=0;j<v;j++){
                for(int k=0;k<v;k++){
                    if(dist[j][i]<C && dist[i][k]<C){
                        if(dist[j][i]+dist[i][k] < dist[j][k]){
                            dist[j][k] = dist[j][i]+dist[i][k];
                        }
                    }
                }
            }
        }
        
        for(int i=0;i<v;i++){
            for(int j=0;j<v;j++){
                if(dist[i][j]==C){
                    dist[i][j] = -1;
                }
            }
        }
        
        return;
    }
};

vector<vector<int>> getDistMatrix(string s){
    vector<vector<int>> distMatrix;
    vector<int> temp;
    string num = "";
    for(char c:s){
        if(isdigit(c) || c=='-'){
            num+=c;
        }else if(!num.empty()){
            temp.push_back(stoi(num));
            num = "";
        }
        
        if(c=='}' && !temp.empty()){
            distMatrix.push_back(temp);
            temp.clear();
        }
    }
    return distMatrix;
}

void printMat(vector<vector<int>>& mat){
    int rows = mat.size(),cols = mat[0].size();
    for(int i=0;i<rows;i++){
        cout<<"[";
        for(int j=0;j<cols;j++){
            cout<<mat[i][j]<<" ";
        }
        cout<<"]\n";
    }
}


int main(){
    Solution S;
    string s;
    getline(cin,s);
    vector<vector<int>> distMatrix = getDistMatrix(s);
    S.floydWarshall(distMatrix);
    printMat(distMatrix);
    return 0;
}